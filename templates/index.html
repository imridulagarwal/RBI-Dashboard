
<!DOCTYPE html>
<html>
<head>
    <title>RBI Dashboard</title>
</head>
<body style="font-family:Arial;padding:40px">
  <h2>ATM / POS / Card Trends</h2>
<canvas id="trendChart"></canvas>

<label for="bank">Filter by Bank:</label>
<select id="bankDropdown"></select>

<button onclick="location.href='/download-latest'">ğŸ“¥ Download CSV</button>
<button onclick="location.href='/cron-update'">ğŸ” Refresh Data</button>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
fetch("/api/card-data").then(res => res.json()).then(data => {
  const labels = data.map(row => row.Month);
  const cc = data.map(row => row['Credit Cards']);
  const dc = data.map(row => row['Debit Cards']);
  new Chart(document.getElementById('trendChart'), {
    type: 'line',
    data: {
      labels,
      datasets: [
        { label: 'Credit Cards', data: cc },
        { label: 'Debit Cards', data: dc }
      ]
    }
  });
});
</script>

</body>
</html>
